<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTML to PDF Converter</title>
<script src="../assets/jspdf.min.js"></script>
<script src="../assets/html2canvas.min.js"></script>

<style>
body { font-family: Arial; padding: 20px; background: #f5f5f5; }
.box { background: white; padding: 20px; max-width: 650px; margin: auto; border-radius: 8px; box-shadow: 0 0 10px #ccc; }
button { padding: 10px 20px; margin: 5px; cursor: pointer; background: #4CAF50; border: none; color: white; border-radius: 5px; }
button:hover { background: #45A049; }
textarea { width:100%; height:200px; margin-top:10px; padding:10px; }
</style>
</head>
<body>

<div class="box">
<h2>ðŸ“„ HTML â†’ PDF Converter</h2>

<label>Enter HTML Code:</label><br>
<textarea id="htmlContent" placeholder="<h1>Hello World</h1>"></textarea><br>

<button onclick="previewHTML()">Preview</button>
<button onclick="convertHTMLtoPDF()">Convert & Download PDF</button>
</div>

<script>
let lastPDF = null;

function previewHTML() {
    const html = document.getElementById("htmlContent").value;
    if (!html.trim()) return alert("Enter some HTML code");

    const newWindow = window.open("", "_blank");
    newWindow.document.write(html);
    newWindow.document.close();
}

function convertHTMLtoPDF() {
    const html = document.getElementById("htmlContent").value;
    if (!html.trim()) return alert("Enter some HTML code");

    const container = document.createElement("div");
    container.innerHTML = html;
    container.style.padding = "20px";
    container.style.background = "white";

    document.body.appendChild(container);

    html2canvas(container).then(canvas => {
        const imgData = canvas.toDataURL("image/png");
        const pdf = new jspdf.jsPDF("p", "mm", "a4");
        const width = pdf.internal.pageSize.getWidth();
        const height = (canvas.height / canvas.width) * width;

        pdf.addImage(imgData, "PNG", 0, 0, width, height);
        pdf.save("HTML_to_PDF.pdf");

        document.body.removeChild(container);
    });
}
</script>

</body>
</html>
